NOTE: Copyright (c) 2002-2012 by SAS Institute Inc., Cary, NC, USA.
NOTE: SAS (r) Proprietary Software 9.4 (TS1M2 DBCS3170)
      Licensed to NATIONAL HOSPITAL ORG NAGOYA MEDICAL CENTER, Site 10206901.
NOTE: このセッションはX64_8PRO プラットフォーム上で実行されています。



NOTE: Updated analytical products:

      SAS/STAT 13.2
      SAS/IML 13.2

NOTE: Additional host information:

 X64_8PRO WIN 6.2.9200  Workstation

NOTE: SASシステム初期化処理:
      処理時間           7.12 秒
      CPU時間            4.20 秒

1    **********************************************************************;
2    * Project           : JACLS-ALL02
3    *
4    * Program name      : JACLS-ALL02_SDTM_CE.sas
5    *
6    * Author            : MATSUO YAMAMOTO
7    *
8    * Date created      : 20170330
9    *
10   * Purpose           : Create CE DataSet
11   *
12   * Revision History  :
13   *
14   * Date        Author           Ref    Revision (Date in YYYYMMDD format)
15   *
16   *
17   **********************************************************************;
18
19   /*** Initial setting ***/
20   %MACRO CURRENT_DIR;
21
22       %LOCAL _FULLPATH _PATH;
23       %LET   _FULLPATH = ;
24       %LET   _PATH     = ;
25
26       %IF %LENGTH(%SYSFUNC(GETOPTION(SYSIN))) = 0 %THEN
27           %LET _FULLPATH = %SYSGET(SAS_EXECFILEPATH);
28       %ELSE
29           %LET _FULLPATH = %SYSFUNC(GETOPTION(SYSIN));
30
31       %LET _PATH = %SUBSTR(   &_FULLPATH., 1, %LENGTH(&_FULLPATH.)
32                             - %LENGTH(%SCAN(&_FULLPATH.,-1,'\')) -1 );
33
34       &_PATH.
35
36   %MEND CURRENT_DIR;
37
38   %LET _PATH2 = %CURRENT_DIR;
39   %LET FILE = ce;
40
41   %INCLUDE "&_PATH2.\JACLS-ALL02_SDTM_LIBNAME.sas";
NOTE: WORK.SASMACR (memtype=CATALOG)を削除します。
NOTE: ファイルWORK.SASMACR (memtype=CATALOG)は使用中なので削除できません。

NOTE: PROCEDURE DATASETS処理(合計処理時間):
      処理時間           0.30 秒
      CPU時間            0.18 秒


NOTE: ライブラリ参照名LIBRAWを次のように割り当てました。
      エンジン: V9
      物理名: C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata
NOTE: ライブラリ参照名LIBEXTを次のように割り当てました。
      エンジン: V9
      物理名: C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\ext
NOTE: ライブラリ参照名LIBSDTMを次のように割り当てました。
      エンジン: V9
      物理名: C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\output\sdtm
102
103  /*** CSV read ***/
104  PROC IMPORT OUT= MAIN
105    DATAFILE="&RAW.\ALL-02_OSEFSdata v1.csv"
106    DBMS=CSV REPLACE;
107    GETNAMES=NO;
108    DATAROW=1;
109    GUESSINGROWS=5000;
110  RUN;

111   /**********************************************************************
112   *   プロダクト:   SAS
113   *   バージョン:   9.4
114   *   作成者:   外部ファイルインターフェイス
115   *   作成日:      30MAR17
116   *   説明:      生成された SAS データステップコード
117   *   テンプレート ソース:  (指定なし)
118   ***********************************************************************/
119      data WORK.MAIN    ;
120      %let _EFIERR_ = 0; /* エラー検出のマクロ変数を設定します */
121      infile
121! 'C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata\ALL-02_OSEFSdat
121! a v1.csv' delimiter = ',' MISSOVER DSD lrecl=32767 ;
122         informat VAR1 $3. ;
123         informat VAR2 $18. ;
124         informat VAR3 best32. ;
125         informat VAR4 best32. ;
126         informat VAR5 $2. ;
127         informat VAR6 $2. ;
128         informat VAR7 $2. ;
129         informat VAR8 $1. ;
130         informat VAR9 yymmdd10. ;
131         informat VAR10 best32. ;
132         informat VAR11 $10. ;
133         informat VAR12 best32. ;
134         informat VAR13 $2. ;
135         informat VAR14 yymmdd10. ;
136         informat VAR15 yymmdd10. ;
137         informat VAR16 yymmdd10. ;
138         informat VAR17 best32. ;
139         informat VAR18 $8. ;
140         informat VAR19 $83. ;
141         informat VAR20 $314. ;
142         informat VAR21 best32. ;
143         informat VAR22 $4. ;
144         informat VAR23 best32. ;
145         informat VAR24 $24. ;
146         informat VAR25 yymmdd10. ;
147         informat VAR26 yymmdd10. ;
148         informat VAR27 $358. ;
149         informat VAR28 $25. ;
150         informat VAR29 $8. ;
151         informat VAR30 yymmdd10. ;
152         informat VAR31 best32. ;
153         informat VAR32 yymmdd10. ;
154         informat VAR33 best32. ;
155         informat VAR34 yymmdd10. ;
156         informat VAR35 best32. ;
157         informat VAR36 yymmdd10. ;
158         informat VAR37 best32. ;
159         informat VAR38 yymmdd10. ;
160         informat VAR39 best32. ;
161         informat VAR40 yymmdd10. ;
162         informat VAR41 $81. ;
163         informat VAR42 best32. ;
164         informat VAR43 $8. ;
165         informat VAR44 yymmdd10. ;
166         informat VAR45 best32. ;
167         informat VAR46 $40. ;
168         informat VAR47 yymmdd10. ;
169         informat VAR48 best32. ;
170         informat VAR49 $8. ;
171         informat VAR50 yymmdd10. ;
172         informat VAR51 yymmdd10. ;
173         informat VAR52 best32. ;
174         informat VAR53 $4. ;
175         informat VAR54 yymmdd10. ;
176         informat VAR55 $17. ;
177         informat VAR56 best32. ;
178         informat VAR57 $8. ;
179         informat VAR58 $100. ;
180         informat VAR59 $536. ;
181         format VAR1 $3. ;
182         format VAR2 $18. ;
183         format VAR3 best12. ;
184         format VAR4 best12. ;
185         format VAR5 $2. ;
186         format VAR6 $2. ;
187         format VAR7 $2. ;
188         format VAR8 $1. ;
189         format VAR9 yymmdd10. ;
190         format VAR10 best12. ;
191         format VAR11 $10. ;
192         format VAR12 best12. ;
193         format VAR13 $2. ;
194         format VAR14 yymmdd10. ;
195         format VAR15 yymmdd10. ;
196         format VAR16 yymmdd10. ;
197         format VAR17 best12. ;
198         format VAR18 $8. ;
199         format VAR19 $83. ;
200         format VAR20 $314. ;
201         format VAR21 best12. ;
202         format VAR22 $4. ;
203         format VAR23 best12. ;
204         format VAR24 $24. ;
205         format VAR25 yymmdd10. ;
206         format VAR26 yymmdd10. ;
207         format VAR27 $358. ;
208         format VAR28 $25. ;
209         format VAR29 $8. ;
210         format VAR30 yymmdd10. ;
211         format VAR31 best12. ;
212         format VAR32 yymmdd10. ;
213         format VAR33 best12. ;
214         format VAR34 yymmdd10. ;
215         format VAR35 best12. ;
216         format VAR36 yymmdd10. ;
217         format VAR37 best12. ;
218         format VAR38 yymmdd10. ;
219         format VAR39 best12. ;
220         format VAR40 yymmdd10. ;
221         format VAR41 $81. ;
222         format VAR42 best12. ;
223         format VAR43 $8. ;
224         format VAR44 yymmdd10. ;
225         format VAR45 best12. ;
226         format VAR46 $40. ;
227         format VAR47 yymmdd10. ;
228         format VAR48 best12. ;
229         format VAR49 $8. ;
230         format VAR50 yymmdd10. ;
231         format VAR51 yymmdd10. ;
232         format VAR52 best12. ;
233         format VAR53 $4. ;
234         format VAR54 yymmdd10. ;
235         format VAR55 $17. ;
236         format VAR56 best12. ;
237         format VAR57 $8. ;
238         format VAR58 $100. ;
239         format VAR59 $536. ;
240      input
241                  VAR1 $
242                  VAR2 $
243                  VAR3
244                  VAR4
245                  VAR5 $
246                  VAR6 $
247                  VAR7 $
248                  VAR8 $
249                  VAR9
250                  VAR10
251                  VAR11 $
252                  VAR12
253                  VAR13 $
254                  VAR14
255                  VAR15
256                  VAR16
257                  VAR17
258                  VAR18 $
259                  VAR19 $
260                  VAR20 $
261                  VAR21
262                  VAR22 $
263                  VAR23
264                  VAR24 $
265                  VAR25
266                  VAR26
267                  VAR27 $
268                  VAR28 $
269                  VAR29 $
270                  VAR30
271                  VAR31
272                  VAR32
273                  VAR33
274                  VAR34
275                  VAR35
276                  VAR36
277                  VAR37
278                  VAR38
279                  VAR39
280                  VAR40
281                  VAR41 $
282                  VAR42
283                  VAR43 $
284                  VAR44
285                  VAR45
286                  VAR46 $
287                  VAR47
288                  VAR48
289                  VAR49 $
290                  VAR50
291                  VAR51
292                  VAR52
293                  VAR53 $
294                  VAR54
295                  VAR55 $
296                  VAR56
297                  VAR57 $
298                  VAR58 $
299                  VAR59 $
300      ;
301      if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
302      run;

NOTE: 入力ファイル'C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata\AL
      L-02_OSEFSdata v1.csv' :

      ファイル名=C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata\ALL-
      02_OSEFSdata v1.csv,
      レコードフォーマット=V,論理レコード長=32767,
      ファイルサイズ (バイト)=239443,
      更新日時=2017年01月18日 14時09分06秒,
      作成日時=2017年03月30日 13時10分19秒

NOTE: 1252レコードを入力ファイル'C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\in
      put\rawdata\ALL-02_OSEFSdata v1.csv'から読み込みました。
      最小レコード長は119です。
      最大レコード長は789です。
NOTE: データセットWORK.MAINは1252オブザベーション、59変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.65 秒
      CPU時間            0.60 秒


1252 行が WORK.MAIN に
C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata\ALL-02_OSEFSdata
v1.csv から作成されました。



NOTE: WORK.MAINデータセットが正常に作成されました。
NOTE: データセットWORK.MAINは1252オブザベーション、59変数です。
NOTE: PROCEDURE IMPORT処理(合計処理時間):
      処理時間           5.53 秒
      CPU時間            5.62 秒


303
304  /*** Extraction of mapping target ***/
305  DATA  WK01;
306    SET  MAIN;
307    IF  VAR1 = "0"; ***Eligibility only ;
308  RUN ;

NOTE: データセットWORK.MAINから1252オブザベーションを読み込みました。
NOTE: データセットWORK.WK01は1245オブザベーション、59変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.05 秒
      CPU時間            0.04 秒


309  **********************************************************************;
310  * Project           : JACLS-ALL02
311  *
312  * Program name      : JACLS-ALL02_SDTM_CE.sas
313  *
314  * Author            : MATSUO YAMAMOTO
315  *
316  * Date created      : 20170330
317  *
318  * Purpose           : Create CE DataSet
319  *
320  * Revision History  :
321  *
322  * Date        Author           Ref    Revision (Date in YYYYMMDD format)
323  *
324  *
325  **********************************************************************;
326
327  /*** Initial setting ***/
328  %MACRO CURRENT_DIR;
329
330      %LOCAL _FULLPATH _PATH;
331      %LET   _FULLPATH = ;
332      %LET   _PATH     = ;
333
334      %IF %LENGTH(%SYSFUNC(GETOPTION(SYSIN))) = 0 %THEN
335          %LET _FULLPATH = %SYSGET(SAS_EXECFILEPATH);
336      %ELSE
337          %LET _FULLPATH = %SYSFUNC(GETOPTION(SYSIN));
338
339      %LET _PATH = %SUBSTR(   &_FULLPATH., 1, %LENGTH(&_FULLPATH.)
340                            - %LENGTH(%SCAN(&_FULLPATH.,-1,'\')) -1 );
341
342      &_PATH.
343
344  %MEND CURRENT_DIR;
345
346  %LET _PATH2 = %CURRENT_DIR;
347  %LET FILE = ce;
348
349  %INCLUDE "&_PATH2.\JACLS-ALL02_SDTM_LIBNAME.sas";
NOTE: WORK.MAIN (memtype=DATA)を削除します。
NOTE: WORK.SASMACR (memtype=CATALOG)を削除します。
NOTE: ファイルWORK.SASMACR (memtype=CATALOG)は使用中なので削除できません。
NOTE: WORK.WK01 (memtype=DATA)を削除します。

NOTE: PROCEDURE DATASETS処理(合計処理時間):
      処理時間           0.05 秒
      CPU時間            0.04 秒


NOTE: ライブラリ参照名LIBRAWを次のように割り当てました。
      エンジン: V9
      物理名: C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata
NOTE: ライブラリ参照名LIBEXTを次のように割り当てました。
      エンジン: V9
      物理名: C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\ext
NOTE: ライブラリ参照名LIBSDTMを次のように割り当てました。
      エンジン: V9
      物理名: C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\output\sdtm
410
411  /*** CSV read ***/
412  PROC IMPORT OUT= MAIN
413    DATAFILE="&RAW.\ALL-02_OSEFSdata v1.csv"
414    DBMS=CSV REPLACE;
415    GETNAMES=NO;
416    DATAROW=1;
417    GUESSINGROWS=5000;
418  RUN;

419   /**********************************************************************
420   *   プロダクト:   SAS
421   *   バージョン:   9.4
422   *   作成者:   外部ファイルインターフェイス
423   *   作成日:      30MAR17
424   *   説明:      生成された SAS データステップコード
425   *   テンプレート ソース:  (指定なし)
426   ***********************************************************************/
427      data WORK.MAIN    ;
428      %let _EFIERR_ = 0; /* エラー検出のマクロ変数を設定します */
429      infile
429! 'C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata\ALL-02_OSEFSdat
429! a v1.csv' delimiter = ',' MISSOVER DSD lrecl=32767 ;
430         informat VAR1 $3. ;
431         informat VAR2 $18. ;
432         informat VAR3 best32. ;
433         informat VAR4 best32. ;
434         informat VAR5 $2. ;
435         informat VAR6 $2. ;
436         informat VAR7 $2. ;
437         informat VAR8 $1. ;
438         informat VAR9 yymmdd10. ;
439         informat VAR10 best32. ;
440         informat VAR11 $10. ;
441         informat VAR12 best32. ;
442         informat VAR13 $2. ;
443         informat VAR14 yymmdd10. ;
444         informat VAR15 yymmdd10. ;
445         informat VAR16 yymmdd10. ;
446         informat VAR17 best32. ;
447         informat VAR18 $8. ;
448         informat VAR19 $83. ;
449         informat VAR20 $314. ;
450         informat VAR21 best32. ;
451         informat VAR22 $4. ;
452         informat VAR23 best32. ;
453         informat VAR24 $24. ;
454         informat VAR25 yymmdd10. ;
455         informat VAR26 yymmdd10. ;
456         informat VAR27 $358. ;
457         informat VAR28 $25. ;
458         informat VAR29 $8. ;
459         informat VAR30 yymmdd10. ;
460         informat VAR31 best32. ;
461         informat VAR32 yymmdd10. ;
462         informat VAR33 best32. ;
463         informat VAR34 yymmdd10. ;
464         informat VAR35 best32. ;
465         informat VAR36 yymmdd10. ;
466         informat VAR37 best32. ;
467         informat VAR38 yymmdd10. ;
468         informat VAR39 best32. ;
469         informat VAR40 yymmdd10. ;
470         informat VAR41 $81. ;
471         informat VAR42 best32. ;
472         informat VAR43 $8. ;
473         informat VAR44 yymmdd10. ;
474         informat VAR45 best32. ;
475         informat VAR46 $40. ;
476         informat VAR47 yymmdd10. ;
477         informat VAR48 best32. ;
478         informat VAR49 $8. ;
479         informat VAR50 yymmdd10. ;
480         informat VAR51 yymmdd10. ;
481         informat VAR52 best32. ;
482         informat VAR53 $4. ;
483         informat VAR54 yymmdd10. ;
484         informat VAR55 $17. ;
485         informat VAR56 best32. ;
486         informat VAR57 $8. ;
487         informat VAR58 $100. ;
488         informat VAR59 $536. ;
489         format VAR1 $3. ;
490         format VAR2 $18. ;
491         format VAR3 best12. ;
492         format VAR4 best12. ;
493         format VAR5 $2. ;
494         format VAR6 $2. ;
495         format VAR7 $2. ;
496         format VAR8 $1. ;
497         format VAR9 yymmdd10. ;
498         format VAR10 best12. ;
499         format VAR11 $10. ;
500         format VAR12 best12. ;
501         format VAR13 $2. ;
502         format VAR14 yymmdd10. ;
503         format VAR15 yymmdd10. ;
504         format VAR16 yymmdd10. ;
505         format VAR17 best12. ;
506         format VAR18 $8. ;
507         format VAR19 $83. ;
508         format VAR20 $314. ;
509         format VAR21 best12. ;
510         format VAR22 $4. ;
511         format VAR23 best12. ;
512         format VAR24 $24. ;
513         format VAR25 yymmdd10. ;
514         format VAR26 yymmdd10. ;
515         format VAR27 $358. ;
516         format VAR28 $25. ;
517         format VAR29 $8. ;
518         format VAR30 yymmdd10. ;
519         format VAR31 best12. ;
520         format VAR32 yymmdd10. ;
521         format VAR33 best12. ;
522         format VAR34 yymmdd10. ;
523         format VAR35 best12. ;
524         format VAR36 yymmdd10. ;
525         format VAR37 best12. ;
526         format VAR38 yymmdd10. ;
527         format VAR39 best12. ;
528         format VAR40 yymmdd10. ;
529         format VAR41 $81. ;
530         format VAR42 best12. ;
531         format VAR43 $8. ;
532         format VAR44 yymmdd10. ;
533         format VAR45 best12. ;
534         format VAR46 $40. ;
535         format VAR47 yymmdd10. ;
536         format VAR48 best12. ;
537         format VAR49 $8. ;
538         format VAR50 yymmdd10. ;
539         format VAR51 yymmdd10. ;
540         format VAR52 best12. ;
541         format VAR53 $4. ;
542         format VAR54 yymmdd10. ;
543         format VAR55 $17. ;
544         format VAR56 best12. ;
545         format VAR57 $8. ;
546         format VAR58 $100. ;
547         format VAR59 $536. ;
548      input
549                  VAR1 $
550                  VAR2 $
551                  VAR3
552                  VAR4
553                  VAR5 $
554                  VAR6 $
555                  VAR7 $
556                  VAR8 $
557                  VAR9
558                  VAR10
559                  VAR11 $
560                  VAR12
561                  VAR13 $
562                  VAR14
563                  VAR15
564                  VAR16
565                  VAR17
566                  VAR18 $
567                  VAR19 $
568                  VAR20 $
569                  VAR21
570                  VAR22 $
571                  VAR23
572                  VAR24 $
573                  VAR25
574                  VAR26
575                  VAR27 $
576                  VAR28 $
577                  VAR29 $
578                  VAR30
579                  VAR31
580                  VAR32
581                  VAR33
582                  VAR34
583                  VAR35
584                  VAR36
585                  VAR37
586                  VAR38
587                  VAR39
588                  VAR40
589                  VAR41 $
590                  VAR42
591                  VAR43 $
592                  VAR44
593                  VAR45
594                  VAR46 $
595                  VAR47
596                  VAR48
597                  VAR49 $
598                  VAR50
599                  VAR51
600                  VAR52
601                  VAR53 $
602                  VAR54
603                  VAR55 $
604                  VAR56
605                  VAR57 $
606                  VAR58 $
607                  VAR59 $
608      ;
609      if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
610      run;

NOTE: 入力ファイル'C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata\AL
      L-02_OSEFSdata v1.csv' :

      ファイル名=C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata\ALL-
      02_OSEFSdata v1.csv,
      レコードフォーマット=V,論理レコード長=32767,
      ファイルサイズ (バイト)=239443,
      更新日時=2017年01月18日 14時09分06秒,
      作成日時=2017年03月30日 13時10分19秒

NOTE: 1252レコードを入力ファイル'C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\in
      put\rawdata\ALL-02_OSEFSdata v1.csv'から読み込みました。
      最小レコード長は119です。
      最大レコード長は789です。
NOTE: データセットWORK.MAINは1252オブザベーション、59変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.62 秒
      CPU時間            0.57 秒


1252 行が WORK.MAIN に
C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata\ALL-02_OSEFSdata
v1.csv から作成されました。



NOTE: WORK.MAINデータセットが正常に作成されました。
NOTE: データセットWORK.MAINは1252オブザベーション、59変数です。
NOTE: PROCEDURE IMPORT処理(合計処理時間):
      処理時間           5.56 秒
      CPU時間            5.45 秒


611
612  /*** Extraction of mapping target ***/
613  DATA  WK01;
614    SET  MAIN;
615    IF  VAR1 = "0"; ***Eligibility only ;
616  RUN ;

NOTE: データセットWORK.MAINから1252オブザベーションを読み込みました。
NOTE: データセットWORK.WK01は1245オブザベーション、59変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.07 秒
      CPU時間            0.06 秒


617
618  /*** Mapping ***/
619  DATA  WK02;
620    LENGTH DSTERM DSDECOD $200.;
621    SET  WK01;
622    STUDYID = "JACLS-ALL02";
623    DOMAIN = "DS";
624    USUBJID = COMPRESS(STUDYID)||"-"||COMPRESS(PUT(VAR3,Z4.));
625    IF  KINDEX(VAR27,"再発")>0 THEN DO;
626      DSTERM = "DISEASE RELAPSE";
627      DSDECOD = "DISEASE RELAPSE";
628      DSSTDTC = PUT(VAR34,IS8601DA.);
629    END ;
630    ELSE DELETE;
631  RUN ;

NOTE: データセットWORK.WK01から1245オブザベーションを読み込みました。
NOTE: データセットWORK.WK02は72オブザベーション、65変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.08 秒
      CPU時間            0.07 秒


632
633  DATA  WK03;
634    LENGTH DSTERM DSDECOD $200.;
635    SET  WK01;
636    STUDYID = "JACLS-ALL02";
637    DOMAIN = "DS";
638    USUBJID = COMPRESS(STUDYID)||"-"||COMPRESS(PUT(VAR3,Z4.));
639    IF  ^MISSING(VAR36) THEN DO;
640      DSTERM = "SECONDARY CANCER";
641      DSDECOD = "SECONDARY CANCER";
642      DSSTDTC = PUT(VAR36,IS8601DA.);
643    END ;
644    ELSE DELETE;
645  RUN ;

NOTE: データセットWORK.WK01から1245オブザベーションを読み込みました。
NOTE: データセットWORK.WK03は2オブザベーション、65変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.05 秒
      CPU時間            0.04 秒


646
647  DATA  WK21;
648    SET  WK02 WK03;
649    DSCAT = "DISPOSITION EVENT";
650    DROP VAR:;
651  RUN ;

NOTE: データセットWORK.WK02から72オブザベーションを読み込みました。
NOTE: データセットWORK.WK03から2オブザベーションを読み込みました。
NOTE: データセットWORK.WK21は74オブザベーション、7変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.04 秒
      CPU時間            0.01 秒


652
653  PROC SORT DATA=WK21 ;BY USUBJID DSSTDTC; RUN ;

NOTE: データセットWORK.WK21から74オブザベーションを読み込みました。
NOTE: データセットWORK.WK21は74オブザベーション、7変数です。
NOTE: PROCEDURE SORT処理(合計処理時間):
      処理時間           0.09 秒
      CPU時間            0.01 秒


654
655  DATA  WK20;
656    SET  WK21;
657    RETAIN DSSEQ;
658    BY  USUBJID;
659    IF FIRST.USUBJID = 1 THEN DSSEQ = 0;
660    DSSEQ = DSSEQ + 1;
661  RUN ;

NOTE: データセットWORK.WK21から74オブザベーションを読み込みました。
NOTE: データセットWORK.WK20は74オブザベーション、8変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.06 秒
      CPU時間            0.04 秒


662  **********************************************************************;
663  * Project           : JACLS-ALL02
664  *
665  * Program name      : JACLS-ALL02_SDTM_CE.sas
666  *
667  * Author            : MATSUO YAMAMOTO
668  *
669  * Date created      : 20170330
670  *
671  * Purpose           : Create CE DataSet
672  *
673  * Revision History  :
674  *
675  * Date        Author           Ref    Revision (Date in YYYYMMDD format)
676  *
677  *
678  **********************************************************************;
679
680  /*** Initial setting ***/
681  %MACRO CURRENT_DIR;
682
683      %LOCAL _FULLPATH _PATH;
684      %LET   _FULLPATH = ;
685      %LET   _PATH     = ;
686
687      %IF %LENGTH(%SYSFUNC(GETOPTION(SYSIN))) = 0 %THEN
688          %LET _FULLPATH = %SYSGET(SAS_EXECFILEPATH);
689      %ELSE
690          %LET _FULLPATH = %SYSFUNC(GETOPTION(SYSIN));
691
692      %LET _PATH = %SUBSTR(   &_FULLPATH., 1, %LENGTH(&_FULLPATH.)
693                            - %LENGTH(%SCAN(&_FULLPATH.,-1,'\')) -1 );
694
695      &_PATH.
696
697  %MEND CURRENT_DIR;
698
699  %LET _PATH2 = %CURRENT_DIR;
700  %LET FILE = ce;
701
702  %INCLUDE "&_PATH2.\JACLS-ALL02_SDTM_LIBNAME.sas";
NOTE: WORK.MAIN (memtype=DATA)を削除します。
NOTE: WORK.SASMACR (memtype=CATALOG)を削除します。
NOTE: ファイルWORK.SASMACR (memtype=CATALOG)は使用中なので削除できません。
NOTE: WORK.WK01 (memtype=DATA)を削除します。
NOTE: WORK.WK02 (memtype=DATA)を削除します。
NOTE: WORK.WK03 (memtype=DATA)を削除します。
NOTE: WORK.WK20 (memtype=DATA)を削除します。
NOTE: WORK.WK21 (memtype=DATA)を削除します。

NOTE: PROCEDURE DATASETS処理(合計処理時間):
      処理時間           0.10 秒
      CPU時間            0.09 秒


NOTE: ライブラリ参照名LIBRAWを次のように割り当てました。
      エンジン: V9
      物理名: C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata
NOTE: ライブラリ参照名LIBEXTを次のように割り当てました。
      エンジン: V9
      物理名: C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\ext
NOTE: ライブラリ参照名LIBSDTMを次のように割り当てました。
      エンジン: V9
      物理名: C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\output\sdtm
763
764   /*** CSV read ***/
765   PROC IMPORT OUT= MAIN
766     DATAFILE="&RAW.\ALL-02_OSEFSdata v1.csv"
767     DBMS=CSV REPLACE;
768     GETNAMES=NO;
769     DATAROW=1;
770     GUESSINGROWS=5000;
771   RUN;

772    /**********************************************************************
773    *   プロダクト:   SAS
774    *   バージョン:   9.4
775    *   作成者:   外部ファイルインターフェイス
776    *   作成日:      30MAR17
777    *   説明:      生成された SAS データステップコード
778    *   テンプレート ソース:  (指定なし)
779    ***********************************************************************/
780       data WORK.MAIN    ;
781       %let _EFIERR_ = 0; /* エラー検出のマクロ変数を設定します */
782       infile
782 ! 'C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata\ALL-02_OSEFSda
782 ! ta v1.csv' delimiter = ',' MISSOVER DSD lrecl=32767 ;
783          informat VAR1 $3. ;
784          informat VAR2 $18. ;
785          informat VAR3 best32. ;
786          informat VAR4 best32. ;
787          informat VAR5 $2. ;
788          informat VAR6 $2. ;
789          informat VAR7 $2. ;
790          informat VAR8 $1. ;
791          informat VAR9 yymmdd10. ;
792          informat VAR10 best32. ;
793          informat VAR11 $10. ;
794          informat VAR12 best32. ;
795          informat VAR13 $2. ;
796          informat VAR14 yymmdd10. ;
797          informat VAR15 yymmdd10. ;
798          informat VAR16 yymmdd10. ;
799          informat VAR17 best32. ;
800          informat VAR18 $8. ;
801          informat VAR19 $83. ;
802          informat VAR20 $314. ;
803          informat VAR21 best32. ;
804          informat VAR22 $4. ;
805          informat VAR23 best32. ;
806          informat VAR24 $24. ;
807          informat VAR25 yymmdd10. ;
808          informat VAR26 yymmdd10. ;
809          informat VAR27 $358. ;
810          informat VAR28 $25. ;
811          informat VAR29 $8. ;
812          informat VAR30 yymmdd10. ;
813          informat VAR31 best32. ;
814          informat VAR32 yymmdd10. ;
815          informat VAR33 best32. ;
816          informat VAR34 yymmdd10. ;
817          informat VAR35 best32. ;
818          informat VAR36 yymmdd10. ;
819          informat VAR37 best32. ;
820          informat VAR38 yymmdd10. ;
821          informat VAR39 best32. ;
822          informat VAR40 yymmdd10. ;
823          informat VAR41 $81. ;
824          informat VAR42 best32. ;
825          informat VAR43 $8. ;
826          informat VAR44 yymmdd10. ;
827          informat VAR45 best32. ;
828          informat VAR46 $40. ;
829          informat VAR47 yymmdd10. ;
830          informat VAR48 best32. ;
831          informat VAR49 $8. ;
832          informat VAR50 yymmdd10. ;
833          informat VAR51 yymmdd10. ;
834          informat VAR52 best32. ;
835          informat VAR53 $4. ;
836          informat VAR54 yymmdd10. ;
837          informat VAR55 $17. ;
838          informat VAR56 best32. ;
839          informat VAR57 $8. ;
840          informat VAR58 $100. ;
841          informat VAR59 $536. ;
842          format VAR1 $3. ;
843          format VAR2 $18. ;
844          format VAR3 best12. ;
845          format VAR4 best12. ;
846          format VAR5 $2. ;
847          format VAR6 $2. ;
848          format VAR7 $2. ;
849          format VAR8 $1. ;
850          format VAR9 yymmdd10. ;
851          format VAR10 best12. ;
852          format VAR11 $10. ;
853          format VAR12 best12. ;
854          format VAR13 $2. ;
855          format VAR14 yymmdd10. ;
856          format VAR15 yymmdd10. ;
857          format VAR16 yymmdd10. ;
858          format VAR17 best12. ;
859          format VAR18 $8. ;
860          format VAR19 $83. ;
861          format VAR20 $314. ;
862          format VAR21 best12. ;
863          format VAR22 $4. ;
864          format VAR23 best12. ;
865          format VAR24 $24. ;
866          format VAR25 yymmdd10. ;
867          format VAR26 yymmdd10. ;
868          format VAR27 $358. ;
869          format VAR28 $25. ;
870          format VAR29 $8. ;
871          format VAR30 yymmdd10. ;
872          format VAR31 best12. ;
873          format VAR32 yymmdd10. ;
874          format VAR33 best12. ;
875          format VAR34 yymmdd10. ;
876          format VAR35 best12. ;
877          format VAR36 yymmdd10. ;
878          format VAR37 best12. ;
879          format VAR38 yymmdd10. ;
880          format VAR39 best12. ;
881          format VAR40 yymmdd10. ;
882          format VAR41 $81. ;
883          format VAR42 best12. ;
884          format VAR43 $8. ;
885          format VAR44 yymmdd10. ;
886          format VAR45 best12. ;
887          format VAR46 $40. ;
888          format VAR47 yymmdd10. ;
889          format VAR48 best12. ;
890          format VAR49 $8. ;
891          format VAR50 yymmdd10. ;
892          format VAR51 yymmdd10. ;
893          format VAR52 best12. ;
894          format VAR53 $4. ;
895          format VAR54 yymmdd10. ;
896          format VAR55 $17. ;
897          format VAR56 best12. ;
898          format VAR57 $8. ;
899          format VAR58 $100. ;
900          format VAR59 $536. ;
901       input
902                   VAR1 $
903                   VAR2 $
904                   VAR3
905                   VAR4
906                   VAR5 $
907                   VAR6 $
908                   VAR7 $
909                   VAR8 $
910                   VAR9
911                   VAR10
912                   VAR11 $
913                   VAR12
914                   VAR13 $
915                   VAR14
916                   VAR15
917                   VAR16
918                   VAR17
919                   VAR18 $
920                   VAR19 $
921                   VAR20 $
922                   VAR21
923                   VAR22 $
924                   VAR23
925                   VAR24 $
926                   VAR25
927                   VAR26
928                   VAR27 $
929                   VAR28 $
930                   VAR29 $
931                   VAR30
932                   VAR31
933                   VAR32
934                   VAR33
935                   VAR34
936                   VAR35
937                   VAR36
938                   VAR37
939                   VAR38
940                   VAR39
941                   VAR40
942                   VAR41 $
943                   VAR42
944                   VAR43 $
945                   VAR44
946                   VAR45
947                   VAR46 $
948                   VAR47
949                   VAR48
950                   VAR49 $
951                   VAR50
952                   VAR51
953                   VAR52
954                   VAR53 $
955                   VAR54
956                   VAR55 $
957                   VAR56
958                   VAR57 $
959                   VAR58 $
960                   VAR59 $
961       ;
962       if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
963       run;

NOTE: 入力ファイル'C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata\AL
      L-02_OSEFSdata v1.csv' :

      ファイル名=C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata\ALL-
      02_OSEFSdata v1.csv,
      レコードフォーマット=V,論理レコード長=32767,
      ファイルサイズ (バイト)=239443,
      更新日時=2017年01月18日 14時09分06秒,
      作成日時=2017年03月30日 13時10分19秒

NOTE: 1252レコードを入力ファイル'C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\in
      put\rawdata\ALL-02_OSEFSdata v1.csv'から読み込みました。
      最小レコード長は119です。
      最大レコード長は789です。
NOTE: データセットWORK.MAINは1252オブザベーション、59変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.63 秒
      CPU時間            0.56 秒


1252 行が WORK.MAIN に
C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\input\rawdata\ALL-02_OSEFSdata
v1.csv から作成されました。



NOTE: WORK.MAINデータセットが正常に作成されました。
NOTE: データセットWORK.MAINは1252オブザベーション、59変数です。
NOTE: PROCEDURE IMPORT処理(合計処理時間):
      処理時間           5.39 秒
      CPU時間            5.31 秒


964
965   /*** Extraction of mapping target ***/
966   DATA  WK01;
967     SET  MAIN;
968     IF  VAR1 = "0"; ***Eligibility only ;
969   RUN ;

NOTE: データセットWORK.MAINから1252オブザベーションを読み込みました。
NOTE: データセットWORK.WK01は1245オブザベーション、59変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.04 秒
      CPU時間            0.06 秒


970
971   /*** Mapping ***/
972   DATA  WK02;
973     LENGTH CETERM CEDECOD $200.;
974     SET  WK01;
975     STUDYID = "JACLS-ALL02";
976     DOMAIN = "CE";
977     USUBJID = COMPRESS(STUDYID)||"-"||COMPRESS(PUT(VAR3,Z4.));
978     IF  KINDEX(VAR27,"再発")>0 THEN DO;
979       CETERM = "DISEASE RELAPSE";
980       CEDECOD = "DISEASE RELAPSE";
981       CESTDTC = PUT(VAR34,IS8601DA.);
982     END ;
983     ELSE DELETE;
984   RUN ;

NOTE: データセットWORK.WK01から1245オブザベーションを読み込みました。
NOTE: データセットWORK.WK02は72オブザベーション、65変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.08 秒
      CPU時間            0.07 秒


985
986   DATA  WK03;
987     LENGTH CETERM CEDECOD $200.;
988     SET  WK01;
989     STUDYID = "JACLS-ALL02";
990     DOMAIN = "CE";
991     USUBJID = COMPRESS(STUDYID)||"-"||COMPRESS(PUT(VAR3,Z4.));
992     IF  ^MISSING(VAR36) THEN DO;
993       CETERM = "SECONDARY CANCER";
994       CEDECOD = "SECONDARY CANCER";
995       CESTDTC = PUT(VAR36,IS8601DA.);
996     END ;
997     ELSE DELETE;
998   RUN ;

NOTE: データセットWORK.WK01から1245オブザベーションを読み込みました。
NOTE: データセットWORK.WK03は2オブザベーション、65変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.07 秒
      CPU時間            0.04 秒


999
1000  DATA  WK21;
1001    SET  WK02 WK03;
1002    DROP VAR:;
1003  RUN ;

NOTE: データセットWORK.WK02から72オブザベーションを読み込みました。
NOTE: データセットWORK.WK03から2オブザベーションを読み込みました。
NOTE: データセットWORK.WK21は74オブザベーション、6変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.05 秒
      CPU時間            0.03 秒


1004
1005  PROC SORT DATA=WK21 ;BY USUBJID CESTDTC; RUN ;

NOTE: データセットWORK.WK21から74オブザベーションを読み込みました。
NOTE: データセットWORK.WK21は74オブザベーション、6変数です。
NOTE: PROCEDURE SORT処理(合計処理時間):
      処理時間           0.04 秒
      CPU時間            0.01 秒


1006
1007  DATA  WK20;
1008    SET  WK21;
1009    RETAIN CESEQ;
1010    BY  USUBJID;
1011    IF FIRST.USUBJID = 1 THEN CESEQ = 0;
1012    CESEQ = CESEQ + 1;
1013  RUN ;

NOTE: データセットWORK.WK21から74オブザベーションを読み込みました。
NOTE: データセットWORK.WK20は74オブザベーション、7変数です。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.04 秒
      CPU時間            0.03 秒


1014
1015  PROC SQL ;
1016     CREATE TABLE LIBSDTM.&FILE AS
1017     SELECT
1018      STUDYID  LENGTH=20    LABEL="Study Identifier",
1019      DOMAIN  LENGTH=2    LABEL="Domain Abbreviation",
1020      USUBJID  LENGTH=40    LABEL="Unique Subject Identifier",
1021      CESEQ      LABEL="Sequence Number",
1022      CETERM  LENGTH=200    LABEL="Reported Term for the Clinical Event",
1023      CEDECOD  LENGTH=200    LABEL="Standardized Clinical Term",
1024      CESTDTC  LENGTH=19    LABEL="Start Date/Time of Clinical Event"
1025     FROM WK20;
NOTE: テーブルLIBSDTM.CE(行数74、列数7)が作成されました。

1026  QUIT ;
NOTE: PROCEDURE SQL処理(合計処理時間):
      処理時間           0.07 秒
      CPU時間            0.04 秒


1027
1028  FILENAME OUTF "&OUTPUT.\&FILE..csv" ;
1029
1030  PROC EXPORT DATA=LIBSDTM.&FILE. OUTFILE=OUTF
1031    DBMS=CSV REPLACE;
1032  RUN ;

1033   /**********************************************************************
1034   *   プロダクト:   SAS
1035   *   バージョン:   9.4
1036   *   作成者:   外部ファイルインターフェイス
1037   *   作成日:      30MAR17
1038   *   説明:      生成された SAS データステップコード
1039   *   テンプレート ソース:  (指定なし)
1040   ***********************************************************************/
1041      data _null_;
1042      %let _EFIERR_ = 0; /* エラー検出のマクロ変数を設定します */
1043      %let _EFIREC_ = 0;     /* エクスポートレコードカウントのマクロ変数をクリアします */
1044      file OUTF delimiter=',' DSD DROPOVER ;
1045      if _n_ = 1 then        /* 列名またはラベルを書き出します */
1046       do;
1047         put
1048            "STUDYID"
1049         ','
1050            "DOMAIN"
1051         ','
1052            "USUBJID"
1053         ','
1054            "CESEQ"
1055         ','
1056            "CETERM"
1057         ','
1058            "CEDECOD"
1059         ','
1060            "CESTDTC"
1061         ;
1062       end;
1063     set  LIBSDTM.CE   end=EFIEOD;
1064         format STUDYID $20. ;
1065         format DOMAIN $2. ;
1066         format USUBJID $40. ;
1067         format CESEQ best12. ;
1068         format CETERM $200. ;
1069         format CEDECOD $200. ;
1070         format CESTDTC $19. ;
1071       do;
1072         EFIOUT + 1;
1073         put STUDYID $ @;
1074         put DOMAIN $ @;
1075         put USUBJID $ @;
1076         put CESEQ @;
1077         put CETERM $ @;
1078         put CEDECOD $ @;
1079         put CESTDTC $ ;
1080         ;
1081       end;
1082      if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
1083      if EFIEOD then call symputx('_EFIREC_',EFIOUT);
1084      run;

NOTE: 出力ファイルOUTF :
      ファイル名=C:\Users\MatsuoYamamoto\Desktop\GitHub\knonc_mapping\JACLS-ALL02\output\sdtm\ce.csv
      ,
      レコードフォーマット=V,論理レコード長=32767,
      ファイルサイズ (バイト)=0,
      更新日時=2017年03月30日 14時03分35秒,
      作成日時=2017年03月30日 14時03分35秒

NOTE: 75レコードを出力ファイルOUTFに書き込みました。
      最小レコード長は51です。
      最大レコード長は78です。
NOTE: データセットLIBSDTM.CEから74オブザベーションを読み込みました。
NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.24 秒
      CPU時間            0.20 秒


74 レコードが OUTF に LIBSDTM.CE から作成されました。


NOTE: "OUTF" ファイルが正常に作成されました。
NOTE: PROCEDURE EXPORT処理(合計処理時間):
      処理時間           0.51 秒
      CPU時間            0.40 秒


1085
1086  %SDTM_FIN;

NOTE: DATAステートメント処理(合計処理時間):
      処理時間           0.00 秒
      CPU時間            0.00 秒


